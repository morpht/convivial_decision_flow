<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Decision Tree HTML Example</title>
    <link rel="stylesheet" type="text/css" href="../style.css">
    <script type="text/javascript" src="../decision_tree.js" defer></script>
</head>

<body>
    <h1>Examples</h1>
    <h2>Bookshop</h2>
    <div class="decision-tree" id="bookshop">
        <!-- Welcome Step with Form Input -->
        <div class="step" id="bookshop-welcome">
            <h3 class="step__title">Welcome to Our Bookshop</h3>
            <div class="step__content">
                <p>So that we can help you better, please tell us a bit about your reading preferences:</p>
                <form class="dt-form" action="#bookshop-find">
                    <label class="step__question" for="purpose">What brings you here today?</label>
                    <select name="purpose" required>
                        <option value="shopping">Shopping</option>
                        <option value="education">Education</option>
                    </select>
                    <label class="step__question" for="age">What is your age?</label>
                    <input type="number" name="age" placeholder="Your age" required>
                    <input type="submit" value="Continue">
                </form>
            </div>
        </div>

        <!-- Category Selection Step -->
        <div class="step" id="bookshop-find">
            <h3 class="step__title">Let's see if we can find something for you</h3>
            <div class="step__content">
                <p>We have a wide range of topics suitable for you.</p>
                <h4>What is your interest?</h4>
                <ul>
                    <li><a class="step__answer" href="#bookshop-sci-fi">Sci-fi</a></li>
                    <li><a class="step__answer" href="#bookshop-fantasy">Fantasy</a></li>
                    <li><a class="step__answer" href="#bookshop-comedic-fiction">Comedic fiction</a></li>
                    <li><a class="step__answer" href="#bookshop-none">None of these</a></li>
                </ul>
            </div>
        </div>

        <!-- Detailed Steps for Each Category -->
        <div class="step" id="bookshop-sci-fi">
            <h3 class="step__title">Sci-fi Books</h3>
            <div class="step__content">
                <p>Explore our collection of science fiction novels and series.</p>
                <ul>
                    <li>
                        <a class="step__answer" href="#bookshop-special">Next</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="step" id="bookshop-fantasy">
            <h3 class="step__title">Fantasy Books</h3>
            <div class="step__content">
                <p>Discover worlds of magic and myth in our fantasy section.</p>
            </div>
        </div>
        <div class="step" id="bookshop-comedic-fiction">
            <h3 class="step__title">Comedic Fiction</h3>
            <div class="step__content">
                <p>Laugh out loud with our range of comedic fiction.</p>
            </div>
        </div>
        <div class="step" id="bookshop-none">
            <h3 class="step__title">Explore Other Genres</h3>
            <div class="step__content">
                <p>Check out other genres that might suit your taste.</p>
            </div>
        </div>

        <!-- Filters and Age-based Content -->
        <div class="step" id="bookshop-age-based">
            <h3 class="step__title">Age-based Recommendations</h3>
            <div class="step__content" data-dt-filter="var_age_gte_18">
                <p>Since you are over 18, you might enjoy these mature reads.</p>
            </div>
            <div class="step__content" data-dt-filter="var_age_lt_18">
                <p>For readers under 18, we recommend these young adult novels.</p>
            </div>
        </div>

        <!-- Step to Test Visited Filter -->
        <div class="step" id="bookshop-special">
            <h3 class="step__title">Special Recommendation</h3>
            <div class="step__content" data-dt-filter="visited_bookshop-sci-fi">
                <p>Because you visited the Sci-fi section, we think you'll love these exclusive Sci-fi books!</p>
                <ul>
                    <li>Neuromancer</li>
                    <li>Dune</li>
                </ul>
            </div>
        </div>

        <!-- Summary and Footer -->
        <div class="decision-tree__summary">
            <div class="decision-tree__summary_infos"></div>
            <div class="decision-tree__history"></div>
            <div class="decision-tree__submission"></div>
        </div>
        <div class="decision-tree__footer">
            <button class="btn btn-secondary step__button step__button--back">Back</button>
            <button class="btn btn-secondary step__button step__button--restart">Restart</button>
        </div>
    </div>

    <h2>Bar</h2>
    <div class="decision-tree" id="bar">
        <!-- Welcome Step with Form Input -->
        <div class="step" id="bar-welcome">
            <h3 class="step__title">Welcome to Our Bar</h3>
            <div class="step__content">
                <p>To start, please tell us your nationality and age:</p>
                <form class="dt-form" action="#bar-age-based">
                    <label class="step__question" for="nationality">Your nationality:</label>
                    <select name="nationality" required>
                        <option value="australian">Australian</option>
                        <option value="czech">Czech</option>
                        <option value="japanese">Japanese</option>
                    </select>
                    <label class="step__question" for="age">Your age:</label>
                    <input type="number" name="age" placeholder="Your age" required>
                    <input type="submit" value="Next">
                </form>
            </div>
        </div>

        <!-- Filters and Age-based Content -->
        <div class="step" id="bar-age-based">
            <h3 class="step__title">Age-based Drink Recommendations</h3>
            <div class="step__content"
                data-dt-filter="!var_nationality_eq_japanese+var_age_gte_18,var_nationality_eq_japanese+var_age_gte_20">
                <p>Since you are over the legal drinking age, you might enjoy these alcoholic beverages.</p>
                <p>What type of drink do you prefer?</p>
                <ul>
                    <li><a class="step__answer" href="#bar-beer">Beer</a></li>
                    <li data-dt-filter="var_nationality_eq_australian"><a class="step__answer"
                            href="#bar-vodka">Vodka</a></li>
                    <li data-dt-filter="var_nationality_eq_czech"><a class="step__answer"
                            href="#bar-spirits">Spirits</a></li>
                    <li data-dt-filter="var_nationality_eq_japanese"><a class="step__answer" href="#bar-sake">Sake</a>
                    </li>
                </ul>
            </div>
            <div class="step__content"
                data-dt-filter="!var_nationality_eq_japanese+var_age_lt_18,var_nationality_eq_japanese+var_age_lt_20">
                <p>For non-alcoholic options, try water or sodas.</p>
                <ul>
                    <li><a class="step__answer" href="#bar-water">Water</a></li>
                    <li><a class="step__answer" href="#bar-soda">Soda</a></li>
                </ul>
            </div>
        </div>

        <!-- Drink Options -->
        <div class="step" id="bar-beer">
            <h3 class="step__title">Beer Selection</h3>
            <div class="step__content">
                <ul>
                    <li data-dt-filter="var_nationality_eq_australian">Carlton Draught</li>
                    <li data-dt-filter="var_nationality_eq_australian">VB</li>
                    <li data-dt-filter="var_nationality_eq_czech">Březňák</li>
                    <li data-dt-filter="var_nationality_eq_czech">Starobrno</li>
                    <li data-dt-filter="var_nationality_eq_japanese">Asahi</li>
                    <li data-dt-filter="var_nationality_eq_japanese">Sapporo</li>
                </ul>
            </div>
        </div>
        <div class="step" id="bar-vodka">
            <h3 class="step__title">Vodka Selection</h3>
            <div class="step__content">
                <ul>
                    <li>Smirnoff</li>
                    <li>Belvedere</li>
                </ul>
            </div>
        </div>
        <div class="step" id="bar-sake">
            <h3 class="step__title">Sake Selection</h3>
            <div class="step__content">
                <ul>
                    <li>Junmai-shu</li>
                    <li>Namazake</li>
                </ul>
            </div>
        </div>
        <div class="step" id="bar-spirits">
            <h3 class="step__title">Spirits Selection</h3>
            <div class="step__content">
                <ul>
                    <li>Fernet</li>
                    <li>Becherovka</li>
                </ul>
            </div>
        </div>
        <div class="step" id="bar-water">
            <h3 class="step__title">Water Selection</h3>
            <div class="step__content">
                <ul>
                    <li>Still Water</li>
                    <li>Sparkling Water</li>
                </ul>
            </div>
        </div>
        <div class="step" id="bar-soda">
            <h3 class="step__title">Soda Selection</h3>
            <div class="step__content">
                <ul>
                    <li>Pepsi</li>
                    <li>Coke</li>
                </ul>
            </div>
        </div>

        <!-- Summary and Footer -->
        <div class="decision-tree__summary">
            <div class="decision-tree__summary_infos"></div>
            <div class="decision-tree__history"></div>
            <div class="decision-tree__submission"></div>
        </div>
        <div class="decision-tree__footer">
            <button class="btn btn-secondary step__button step__button--back">Back</button>
            <button class="btn btn-secondary step__button step__button--restart">Restart</button>
        </div>
    </div>

    <script>
        // Automatically initialize decision trees on DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function () {
            document.querySelectorAll('.decision-tree').forEach(function (tree) {
                if (tree.id) {
                    new DecisionTree(tree.id);
                } else {
                    console.warn('Decision tree does not have an ID.');
                }
            });
        });
    </script>
</body>

</html>
